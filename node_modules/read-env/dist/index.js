"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t=(e=require("camelcase"))&&"object"==typeof e&&"default"in e?e.default:e,r=function(){return(r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},n={format:"camelcase",separator:"__",sanitize:{object:!0,array:!0,bool:!0,int:!0,float:!0},includePrefix:!1},o={camelcase:function(e){return t(e.toLowerCase())},pascalcase:function(e){return t(e.toLowerCase(),{pascalCase:!0})},lowercase:function(e){return e.toLowerCase()},uppercase:function(e){return e.toUpperCase()}};exports.readEnv=function(e,t){void 0===t&&(t={});var a,i=("object"==typeof(a=t).sanitize&&(a.sanitize=r(r({},n.sanitize),a.sanitize)),r(r({},n),a)),u=i.format,c=i.source,s=void 0===c?process.env:c,f=i.includePrefix,p=i.sanitize,l=i.separator,y=Object.keys(s);return"string"==typeof e&&e&&(y=y.filter((function(t){return 0===t.indexOf(e)}))),y.reduce((function(t,r){var n,a,i=null===(n=s[r])||void 0===n?void 0:n.trim(),c=r;"object"==typeof p&&i&&(i=function(e,t){if(t.object&&function(e){return"{"===e[0]&&"}"===e[e.length-1]}(e))try{return JSON.parse(e)}catch(t){return e}if(t.array&&function(e){return"["===e[0]&&"]"===e[e.length-1]}(e))try{return JSON.parse(e)}catch(t){return e}return t.int&&function(e){return/^-?\d+$/.test(e)}(e)?parseInt(e,10):t.float&&function(e){return/^-?\d*(\.\d+)$/.test(e)}(e)?parseFloat(e):t.bool&&function(e){var t=e.toLowerCase();return"true"===t||"false"===t}(e)?"true"===e.toLowerCase():e}(i,p)),!f&&"string"==typeof e&&e&&(c=c.replace(e,"")),a="_";var y=[c=c.replace(new RegExp("^["+a+"]+"),"")];return"string"==typeof l&&l&&(y=c.split(l)),y.reduce((function(e,t,r){var n=function(e,t){return"string"==typeof t?o[t](e):"function"==typeof t?t(e):e}(t,u);return r===y.length-1?e[n]=i:("object"!=typeof e[n]||Array.isArray(e[n]))&&(e[n]={}),e[n]}),t),t}),{})};
//# sourceMappingURL=index.js.map

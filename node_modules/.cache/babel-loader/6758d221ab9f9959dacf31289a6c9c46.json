{"ast":null,"code":"import _objectSpread from \"/Users/shadeemerhi/lighthouse/final/react-express-boilerplate/react-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/shadeemerhi/lighthouse/final/react-express-boilerplate/react-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/shadeemerhi/lighthouse/final/react-express-boilerplate/react-front-end/src/components/Gigs/GigForm.js\";\nimport React, { useState, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { green } from \"@material-ui/core/colors\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport { Link } from \"react-router-dom\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport OutlinedInput from \"@material-ui/core/OutlinedInput\";\nimport axios from \"axios\";\nimport { UserCookie } from \"../../hooks/UserCookie\";\nimport { Redirect } from \"react-router-dom\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\"\n    },\n    categoryList: {\n      marginTop: \"2rem\",\n      backgroundColor: \"#EFEFEF\",\n      width: \"40%\"\n    },\n    listContainer: {\n      display: \"flex\",\n      justifyContent: \"center\"\n    },\n    formContainer: {\n      borderRadius: \"8px\",\n      width: \"70%\",\n      paddingTop: \"3rem\",\n      paddingBottom: \"1rem\",\n      padding: \"2rem\",\n      boxShadow: \"1px 2px 2px 2px lightgrey\"\n    },\n    field: {\n      margin: \"1.5rem\"\n    },\n    title: {\n      display: \"flex\"\n    },\n    photoBtn: {\n      color: green[400]\n    },\n    submitBtn: {\n      backgroundColor: green[400],\n      color: \"white\",\n      marginTop: \"2rem\"\n    },\n    moneyInput: {\n      marginTop: \"2rem\",\n      width: \"40%\"\n    }\n  };\n});\nexport default function GigForm(props) {\n  var _this = this;\n\n  var classes = useStyles();\n\n  var _useContext = useContext(UserCookie),\n      cookie = _useContext.cookie,\n      setCookie = _useContext.setCookie;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      categories = _useState2[0],\n      setCategories = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      categoriesNames = _useState4[0],\n      setCategoriesNames = _useState4[1];\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      anchorEl = _React$useState2[0],\n      setAnchorEl = _React$useState2[1];\n\n  var _React$useState3 = React.useState(0),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      selectedIndex = _React$useState4[0],\n      setSelectedIndex = _React$useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      postSuccessful = _useState6[0],\n      setPostSuccessful = _useState6[1];\n\n  var _useState7 = useState(0),\n      _useState8 = _slicedToArray(_useState7, 2),\n      gigId = _useState8[0],\n      setGigId = _useState8[1];\n\n  var _useState9 = useState({\n    userId: 0,\n    title: \"\",\n    category: 0,\n    rate: 0,\n    description: \"\",\n    photo1: \"\",\n    categoryName: \"\"\n  }),\n      _useState10 = _slicedToArray(_useState9, 2),\n      gig = _useState10[0],\n      setGig = _useState10[1];\n\n  var getCategories = function getCategories() {\n    axios.get(\"/api/categories\").then(function (res) {\n      var categoryNameArray = res.data.map(function (cat) {\n        return cat.name;\n      });\n      categoryNameArray.unshift(\"Select a category\");\n      setCategories(res.data);\n      setCategoriesNames(categoryNameArray);\n    });\n  };\n\n  var postGig = function postGig() {\n    return axios.put(\"/api/gigs/\", gig).then(function (res) {\n      setGigId(res.data.id);\n      setPostSuccessful(true);\n    });\n  };\n\n  if (postSuccessful) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/gigs/\".concat(gig.categoryName, \"/\").concat(gigId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 12\n      }\n    });\n  } // props.setShow(false);\n\n\n  var handleClickListItem = function handleClickListItem(event) {\n    getCategories();\n    setAnchorEl(event.currentTarget);\n  };\n\n  var handleMenuItemClick = function handleMenuItemClick(event, index) {\n    setGig(_objectSpread({}, gig, {\n      category: categories[index - 1].id,\n      categoryName: categories[index - 1].name\n    }));\n    setSelectedIndex(index);\n    setAnchorEl(null);\n  };\n\n  var handleClose = function handleClose() {\n    setAnchorEl(null);\n  };\n\n  return /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      backgroundColor: \"#EFEFEF\",\n      width: \"100vw\",\n      height: \"10rem\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  }, \"Get paid for your valuable skills\")), /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      borderBottom: \"2px solid #43a047\",\n      width: \"40%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }\n  }, \"Create a New Gig\"), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    className: classes.formContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    autoComplete: \"off\",\n    onSubmit: function onSubmit(event) {\n      event.preventDefault();\n      postGig();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    required: true,\n    label: \"Title\",\n    type: \"text\",\n    placeholder: \"Title\",\n    variant: \"outlined\",\n    fullWidth: true,\n    onInput: function onInput(e) {\n      return setGig(_objectSpread({}, gig, {\n        title: e.target.value,\n        userId: cookie.user.id\n      }));\n    },\n    InputLabelProps: {\n      shrink: true\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.listContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.categoryList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    component: \"nav\",\n    \"aria-label\": \"Device settings\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(ListItem, {\n    button: true,\n    \"aria-haspopup\": \"true\",\n    \"aria-controls\": \"lock-menu\",\n    \"aria-label\": \"Choose a Category\",\n    onClick: handleClickListItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ListItemText, {\n    primary: \"Select category\",\n    secondary: categoriesNames[selectedIndex],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(Menu, {\n    id: \"lock-menu\",\n    anchorEl: anchorEl,\n    keepMounted: true,\n    open: Boolean(anchorEl),\n    onClose: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 15\n    }\n  }, categoriesNames.map(function (option, index) {\n    return /*#__PURE__*/React.createElement(MenuItem, {\n      key: option,\n      disabled: index === 0,\n      selected: index === selectedIndex,\n      onClick: function onClick(event) {\n        return handleMenuItemClick(event, index);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 19\n      }\n    }, option);\n  })))), /*#__PURE__*/React.createElement(FormControl, {\n    className: classes.moneyInput,\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"outlined-adornment-amount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 13\n    }\n  }, \"Hourly Rate\"), /*#__PURE__*/React.createElement(OutlinedInput, {\n    required: true,\n    id: \"outlined-adornment-amount\",\n    type: \"number\",\n    value: gig.amount,\n    onInput: function onInput(e) {\n      return setGig(_objectSpread({}, gig, {\n        rate: e.target.value\n      }));\n    },\n    startAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n      position: \"start\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 17\n      }\n    }, \"$\"),\n    labelWidth: 85,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 13\n    }\n  }, \"Description\")), /*#__PURE__*/React.createElement(TextField, {\n    id: \"outlined-multiline-static\",\n    label: \"Share some details about the service you're providing\",\n    multiline: true,\n    rows: 4,\n    variant: \"outlined\",\n    onInput: function onInput(e) {\n      return setGig(_objectSpread({}, gig, {\n        description: e.target.value\n      }));\n    },\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 13\n    }\n  }, \"Portfolio Photos\"), /*#__PURE__*/React.createElement(TextField, {\n    id: \"outlined-multiline-static\",\n    label: \"Image URL\",\n    multiline: true,\n    rows: 1,\n    variant: \"outlined\",\n    onInput: function onInput(e) {\n      return setGig(_objectSpread({}, gig, {\n        photo1: e.target.value\n      }));\n    },\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    className: classes.submitBtn,\n    size: \"large\",\n    variant: \"contained\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 11\n    }\n  }, \"Submit\"))));\n}","map":{"version":3,"sources":["/Users/shadeemerhi/lighthouse/final/react-express-boilerplate/react-front-end/src/components/Gigs/GigForm.js"],"names":["React","useState","useContext","makeStyles","TextField","green","Grid","Button","Link","List","ListItem","ListItemText","MenuItem","Menu","FormControl","InputLabel","InputAdornment","OutlinedInput","axios","UserCookie","Redirect","useStyles","theme","root","display","flexDirection","alignItems","categoryList","marginTop","backgroundColor","width","listContainer","justifyContent","formContainer","borderRadius","paddingTop","paddingBottom","padding","boxShadow","field","margin","title","photoBtn","color","submitBtn","moneyInput","GigForm","props","classes","cookie","setCookie","categories","setCategories","categoriesNames","setCategoriesNames","anchorEl","setAnchorEl","selectedIndex","setSelectedIndex","postSuccessful","setPostSuccessful","gigId","setGigId","userId","category","rate","description","photo1","categoryName","gig","setGig","getCategories","get","then","res","categoryNameArray","data","map","cat","name","unshift","postGig","put","id","handleClickListItem","event","currentTarget","handleMenuItemClick","index","handleClose","height","borderBottom","preventDefault","e","target","value","user","shrink","Boolean","option","amount"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { green } from \"@material-ui/core/colors\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\nimport { Link } from \"react-router-dom\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport OutlinedInput from \"@material-ui/core/OutlinedInput\";\nimport axios from \"axios\";\nimport { UserCookie } from \"../../hooks/UserCookie\";\nimport { Redirect } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n\n  categoryList: {\n    marginTop: \"2rem\",\n    backgroundColor: \"#EFEFEF\",\n    width: \"40%\",\n  },\n\n  listContainer: {\n    display: \"flex\",\n    justifyContent: \"center\",\n  },\n\n  formContainer: {\n    borderRadius: \"8px\",\n    width: \"70%\",\n    paddingTop: \"3rem\",\n    paddingBottom: \"1rem\",\n    padding: \"2rem\",\n    boxShadow: \"1px 2px 2px 2px lightgrey\",\n  },\n\n  field: {\n    margin: \"1.5rem\",\n  },\n\n  title: {\n    display: \"flex\",\n  },\n\n  photoBtn: {\n    color: green[400],\n  },\n\n  submitBtn: {\n    backgroundColor: green[400],\n    color: \"white\",\n    marginTop: \"2rem\",\n  },\n\n  moneyInput: {\n    marginTop: \"2rem\",\n    width: \"40%\",\n  },\n}));\n\nexport default function GigForm(props) {\n  const classes = useStyles();\n  const { cookie, setCookie } = useContext(UserCookie);\n  const [categories, setCategories] = useState([]);\n  const [categoriesNames, setCategoriesNames] = useState([]);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [selectedIndex, setSelectedIndex] = React.useState(0);\n  const [postSuccessful, setPostSuccessful] = useState(false);\n  const [gigId, setGigId] = useState(0);\n  const [gig, setGig] = useState({\n    userId: 0,\n    title: \"\",\n    category: 0,\n    rate: 0,\n    description: \"\",\n    photo1: \"\",\n    categoryName: \"\",\n  });\n\n  const getCategories = () => {\n    axios.get(\"/api/categories\").then((res) => {\n      const categoryNameArray = res.data.map((cat) => cat.name);\n      categoryNameArray.unshift(\"Select a category\");\n      setCategories(res.data);\n      setCategoriesNames(categoryNameArray);\n    });\n  };\n\n  const postGig = () => {\n    return axios.put(\"/api/gigs/\", gig).then((res) => {\n      setGigId(res.data.id);\n      setPostSuccessful(true);\n    });\n  };\n  if (postSuccessful) {\n    return <Redirect to={`/gigs/${gig.categoryName}/${gigId}`} />;\n  }\n\n  // props.setShow(false);\n\n  const handleClickListItem = (event) => {\n    getCategories();\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuItemClick = (event, index) => {\n    setGig({\n      ...gig,\n      category: categories[index - 1].id,\n      categoryName: categories[index - 1].name,\n    });\n    setSelectedIndex(index);\n    setAnchorEl(null);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <Grid container className={classes.root}>\n      <div\n        style={{\n          backgroundColor: \"#EFEFEF\",\n          width: \"100vw\",\n          height: \"10rem\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          justifyContent: \"center\",\n        }}\n      >\n        <h2>Get paid for your valuable skills</h2>\n      </div>\n      <h1 style={{ borderBottom: \"2px solid #43a047\", width: \"40%\" }}>\n        Create a New Gig\n      </h1>\n      <Grid item xs={12} className={classes.formContainer}>\n        <form\n          autoComplete=\"off\"\n          onSubmit={(event) => {\n            event.preventDefault();\n            postGig();\n          }}\n        >\n          <TextField\n            required\n            label=\"Title\"\n            type=\"text\"\n            placeholder=\"Title\"\n            variant=\"outlined\"\n            fullWidth\n            onInput={(e) =>\n              setGig({\n                ...gig,\n                title: e.target.value,\n                userId: cookie.user.id,\n              })\n            }\n            InputLabelProps={{\n              shrink: true,\n            }}\n          />\n          <div className={classes.listContainer}>\n            <div className={classes.categoryList}>\n              <List component=\"nav\" aria-label=\"Device settings\">\n                <ListItem\n                  button\n                  aria-haspopup=\"true\"\n                  aria-controls=\"lock-menu\"\n                  aria-label=\"Choose a Category\"\n                  onClick={handleClickListItem}\n                >\n                  <ListItemText\n                    primary=\"Select category\"\n                    secondary={categoriesNames[selectedIndex]}\n                  />\n                </ListItem>\n              </List>\n              <Menu\n                id=\"lock-menu\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleClose}\n              >\n                {categoriesNames.map((option, index) => (\n                  <MenuItem\n                    key={option}\n                    disabled={index === 0}\n                    selected={index === selectedIndex}\n                    onClick={(event) => handleMenuItemClick(event, index)}\n                  >\n                    {option}\n                  </MenuItem>\n                ))}\n              </Menu>\n            </div>\n          </div>\n          <FormControl className={classes.moneyInput} variant=\"outlined\">\n            <InputLabel htmlFor=\"outlined-adornment-amount\">\n              Hourly Rate\n            </InputLabel>\n            <OutlinedInput\n              required\n              id=\"outlined-adornment-amount\"\n              type=\"number\"\n              value={gig.amount}\n              onInput={(e) =>\n                setGig({\n                  ...gig,\n                  rate: e.target.value,\n                })\n              }\n              startAdornment={\n                <InputAdornment position=\"start\">$</InputAdornment>\n              }\n              labelWidth={85}\n            />\n          </FormControl>\n          <br />\n          <br />\n          <div className={classes.title}>\n            <h3>Description</h3>\n          </div>\n          <TextField\n            id=\"outlined-multiline-static\"\n            label=\"Share some details about the service you're providing\"\n            multiline\n            rows={4}\n            variant=\"outlined\"\n            onInput={(e) =>\n              setGig({\n                ...gig,\n                description: e.target.value,\n              })\n            }\n            fullWidth\n          />\n          <br />\n          <br />\n          <div>\n            <h3>Portfolio Photos</h3>\n            <TextField\n              id=\"outlined-multiline-static\"\n              label=\"Image URL\"\n              multiline\n              rows={1}\n              variant=\"outlined\"\n              onInput={(e) =>\n                setGig({\n                  ...gig,\n                  photo1: e.target.value,\n                })\n              }\n              fullWidth\n            />\n            {/* <Button\n              component=\"label\"\n              className={classes.photoBtn}\n              variant=\"outlined\"\n              onInput={(e) =>\n                setGig({\n                  ...gig,\n                  photo1: e.target.value,\n                })\n              }\n            >\n              Upload\n              <input\n                type=\"file\"\n                multiple\n                accept=\"image/*\"\n                style={{ display: \"none\" }}\n              />\n            </Button> */}\n          </div>\n          <Button\n            type=\"submit\"\n            className={classes.submitBtn}\n            size=\"large\"\n            variant=\"contained\"\n          >\n            Submit\n          </Button>\n        </form>\n      </Grid>\n    </Grid>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}
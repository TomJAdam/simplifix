{"ast":null,"code":"import _slicedToArray from \"/Users/shadeemerhi/lighthouse/final/react-express-boilerplate/react-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/shadeemerhi/lighthouse/final/react-express-boilerplate/react-front-end/src/components/GigPage.js\";\nimport Axios from \"axios\";\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport GigHeader from \"./GigHeader\";\nimport GigDetails from \"./GigDetails\";\nimport Grid from \"@material-ui/core/Grid\";\nimport GoogleMap from \"./GoogleMap\";\nimport ContactCard from \"./ContactCard\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      flexGrow: 1,\n      paddingTop: \"1rem\"\n    },\n    card: {\n      borderRadius: \"8px\",\n      boxShadow: \"0px 2px 5px 0.5px #E3E3E3\"\n    }\n  };\n});\nexport default function GigPage() {\n  var classes = useStyles();\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      gig = _useState2[0],\n      setGig = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      contractor = _useState4[0],\n      setContractor = _useState4[1];\n\n  var _useState5 = useState({}),\n      _useState6 = _slicedToArray(_useState5, 2),\n      user = _useState6[0],\n      setUser = _useState6[1];\n\n  var _useState7 = useState({}),\n      _useState8 = _slicedToArray(_useState7, 2),\n      coords = _useState8[0],\n      setCoords = _useState8[1];\n\n  console.log(\"coords :\", coords);\n  var params = useParams();\n  var userAddy = \"\".concat(user.address, \", \").concat(user.city, \", \").concat(user.province);\n\n  var getCoords = function getCoords(address) {\n    var splitAddy = address.split(\" \");\n    var searchString = splitAddy.join(\"+\");\n    axios.get(\"https://maps.googleapis.com/maps/api/geocode/json?address=\".concat(searchString, \"&key=AIzaSyCyMLV15CqMzB846p53qsoJP6g7d471hpo\")).then(function (res) {\n      return setCoords(res.data.results[0].geometry.location);\n    });\n  };\n\n  useEffect(function () {\n    axios.get(\"/api/gigs/\".concat(params.gig_id)).then(function (response) {\n      setGig(response.data[0]);\n      var id = response.data[0].contractor_id;\n      getCoords(userAddy);\n      return axios(\"/api/users/\".concat(id));\n    }).then(function (response) {\n      setContractor(response.data[0]);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(GigHeader, {\n    first: contractor.first_name,\n    last: contractor.last_name,\n    title: gig.title,\n    price: gig.price,\n    image: gig.photo_one,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    justify: \"center\",\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    sm: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(GigDetails, {\n    bio: contractor.bio,\n    education: contractor.education,\n    description: gig.description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    sm: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ContactCard, {\n    city: contractor.city,\n    phone: contractor.phone_number,\n    email: contractor.email,\n    contractor_id: contractor.id,\n    gig_id: gig.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(GoogleMap, {\n    coords: coords,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  })))));\n}","map":{"version":3,"sources":["/Users/shadeemerhi/lighthouse/final/react-express-boilerplate/react-front-end/src/components/GigPage.js"],"names":["Axios","React","useEffect","useState","useCallback","useParams","Link","axios","GigHeader","GigDetails","Grid","GoogleMap","ContactCard","makeStyles","useStyles","theme","root","flexGrow","paddingTop","card","borderRadius","boxShadow","GigPage","classes","gig","setGig","contractor","setContractor","user","setUser","coords","setCoords","console","log","params","userAddy","address","city","province","getCoords","splitAddy","split","searchString","join","get","then","res","data","results","geometry","location","gig_id","response","id","contractor_id","first_name","last_name","title","price","photo_one","bio","education","description","phone_number","email"],"mappings":"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","sourcesContent":["import Axios from \"axios\";\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport GigHeader from \"./GigHeader\";\nimport GigDetails from \"./GigDetails\";\nimport Grid from \"@material-ui/core/Grid\";\nimport GoogleMap from \"./GoogleMap\";\nimport ContactCard from \"./ContactCard\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    paddingTop: \"1rem\",\n  },\n\n  card: {\n    borderRadius: \"8px\",\n    boxShadow: \"0px 2px 5px 0.5px #E3E3E3\",\n  },\n}));\n\nexport default function GigPage() {\n  const classes = useStyles();\n\n  const [gig, setGig] = useState({});\n  const [contractor, setContractor] = useState({});\n  const [user, setUser] = useState({});\n  const [coords, setCoords] = useState({});\n  console.log(\"coords :\", coords);\n\n  const params = useParams();\n\n  const userAddy = `${user.address}, ${user.city}, ${user.province}`;\n\n  const getCoords = (address) => {\n    const splitAddy = address.split(\" \");\n    let searchString = splitAddy.join(\"+\");\n    axios\n      .get(\n        `https://maps.googleapis.com/maps/api/geocode/json?address=${searchString}&key=AIzaSyCyMLV15CqMzB846p53qsoJP6g7d471hpo`\n      )\n      .then((res) => setCoords(res.data.results[0].geometry.location));\n  };\n\n  useEffect(() => {\n    axios\n      .get(`/api/gigs/${params.gig_id}`)\n      .then((response) => {\n        setGig(response.data[0]);\n        const id = response.data[0].contractor_id;\n        getCoords(userAddy);\n        return axios(`/api/users/${id}`);\n      })\n      .then((response) => {\n        setContractor(response.data[0]);\n      });\n  }, []);\n\n  return (\n    <div>\n      <GigHeader\n        first={contractor.first_name}\n        last={contractor.last_name}\n        title={gig.title}\n        price={gig.price}\n        image={gig.photo_one}\n      />\n      <div className={classes.root}>\n        <Grid container spacing={3} justify=\"center\" className={classes.root}>\n          <Grid item sm={8}>\n            <GigDetails\n              bio={contractor.bio}\n              education={contractor.education}\n              description={gig.description}\n            />\n          </Grid>\n          <Grid item sm={3}>\n            <ContactCard\n              city={contractor.city}\n              phone={contractor.phone_number}\n              email={contractor.email}\n              contractor_id={contractor.id}\n              gig_id={gig.id}\n            />\n            <GoogleMap coords={coords} />\n          </Grid>\n        </Grid>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}
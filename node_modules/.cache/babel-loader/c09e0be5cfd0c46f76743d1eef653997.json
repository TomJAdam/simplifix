{"ast":null,"code":"import _objectSpread from \"/Users/shadeemerhi/lighthouse/final/react-express-boilerplate/react-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/shadeemerhi/lighthouse/final/react-express-boilerplate/react-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nexport default function useAppData() {\n  var _useState = useState({\n    user: null\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      cookie = _useState2[0],\n      setCookie = _useState2[1];\n\n  var _useState3 = useState({\n    gigs: [],\n    categories: []\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      state = _useState4[0],\n      setState = _useState4[1];\n\n  useEffect(function () {\n    axios.get(\"/login\").then(function (res) {\n      setCookie(_objectSpread({}, res.data));\n    });\n    var promise1 = axios.get(\"/api/gigs\").then(function (res) {\n      return res.data;\n    });\n    var promise2 = axios.get('/api/categories').then(function (res) {\n      return res.data;\n    });\n    Promise.all([promise1, promise2]).then(function (res) {\n      setState(function (prev) {\n        return _objectSpread({}, prev, {\n          gigs: res[0],\n          categories: res[1]\n        });\n      });\n    });\n  }, []);\n  return {\n    cookie: cookie,\n    setCookie: setCookie,\n    state: state,\n    setState: setState\n  };\n}","map":{"version":3,"sources":["/Users/shadeemerhi/lighthouse/final/react-express-boilerplate/react-front-end/src/hooks/useAppData.js"],"names":["useState","useEffect","axios","useAppData","user","cookie","setCookie","gigs","categories","state","setState","get","then","res","data","promise1","promise2","Promise","all","prev"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,SAASC,UAAT,GAAsB;AAAA,kBACPH,QAAQ,CAAC;AAAEI,IAAAA,IAAI,EAAE;AAAR,GAAD,CADD;AAAA;AAAA,MAC5BC,MAD4B;AAAA,MACpBC,SADoB;;AAAA,mBAETN,QAAQ,CAAC;AACjCO,IAAAA,IAAI,EAAE,EAD2B;AAEjCC,IAAAA,UAAU,EAAE;AAFqB,GAAD,CAFC;AAAA;AAAA,MAE5BC,KAF4B;AAAA,MAErBC,QAFqB;;AAOnCT,EAAAA,SAAS,CAAC,YAAM;AACdC,IAAAA,KAAK,CAACS,GAAN,CAAU,QAAV,EAAoBC,IAApB,CAAyB,UAAAC,GAAG,EAAI;AAC9BP,MAAAA,SAAS,mBAAMO,GAAG,CAACC,IAAV,EAAT;AACD,KAFD;AAGA,QAAMC,QAAQ,GAAGb,KAAK,CAACS,GAAN,CAAU,WAAV,EAAuBC,IAAvB,CAA4B,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAR;AAAA,KAA/B,CAAjB;AACA,QAAME,QAAQ,GAAGd,KAAK,CAACS,GAAN,CAAU,iBAAV,EAA6BC,IAA7B,CAAkC,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAR;AAAA,KAArC,CAAjB;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAY,CAACH,QAAD,EAAWC,QAAX,CAAZ,EAAkCJ,IAAlC,CAAuC,UAAAC,GAAG,EAAI;AAC5CH,MAAAA,QAAQ,CAAC,UAAAS,IAAI;AAAA,iCAASA,IAAT;AAAeZ,UAAAA,IAAI,EAAEM,GAAG,CAAC,CAAD,CAAxB;AAA6BL,UAAAA,UAAU,EAAEK,GAAG,CAAC,CAAD;AAA5C;AAAA,OAAL,CAAR;AACD,KAFD;AAKD,GAXQ,EAWN,EAXM,CAAT;AAaA,SAAO;AAAER,IAAAA,MAAM,EAANA,MAAF;AAAUC,IAAAA,SAAS,EAATA,SAAV;AAAqBG,IAAAA,KAAK,EAALA,KAArB;AAA4BC,IAAAA,QAAQ,EAARA;AAA5B,GAAP;AACD","sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nexport default function useAppData() {\n  const [cookie, setCookie] = useState({ user: null });\n  const [state, setState] = useState({\n    gigs: [],\n    categories: []\n  });\n\n  useEffect(() => {\n    axios.get(\"/login\").then(res => {\n      setCookie({ ...res.data });\n    });\n    const promise1 = axios.get(\"/api/gigs\").then(res => res.data);\n    const promise2 = axios.get('/api/categories').then(res => res.data);\n    Promise.all([promise1, promise2]).then(res => {\n      setState(prev => ({...prev, gigs: res[0], categories: res[1]}));\n    });\n\n    \n  }, []);\n\n  return { cookie, setCookie, state, setState };\n}\n"]},"metadata":{},"sourceType":"module"}